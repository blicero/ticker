{{ define "items" }}
{{/* Created on 13. 02. 2021 */}}
{{/* Time-stamp: <2021-02-19 14:15:03 krylon> */}}
<table class="items">
  <thead>
    <tr>
      <th>Time</th>
      <th>Rating</th>
      <th>Feed</th>
      <th>Title</th>
      <th>Summary</th>
    </tr>
  </thead>

  <tbody>
    {{ $class := cycle "even" "odd" }}
    {{ $feeds := .FeedMap }}
    {{ range .Items }}
    <tr class="{{ $class.Next }}" id="item_{{ .ID }}">
      <td>{{ fmt_time .Timestamp }}</td>
      <td id="item_rating_{{ .ID }}">
        <small>{{ .RatingString }}</small><br />
        {{ if not .IsRated }}
        <input
        type="button"
        value="Good"
        onclick="rate_item({{ .ID }}, 1);" />
        &nbsp;|&nbsp;
        <input
        type="button"
        value="Bad"
        onclick="rate_item({{ .ID }}, 0);" />
        <br />
        {{ else }}
        <input
        type="button"
        value="Unvote"
        onclick="unvote_item({{ .ID }});" />
        <br />
        {{ end }}
        {{ if (lt .Rating 0.5) }}
        <img src="/static/emo_boring.png" />
        {{ else }}
        <img src="/static/emo_interesting.png" />
        {{ end }}
      </td>
      <td><a href="/feed/{{ .FeedID }}">
        {{ (index $feeds .FeedID).Name }}
      </a></td>
      <td>
        <a href="{{ .URL }}" target="_blank">
          {{ .Title }}
        </a>
      </td>
      <td>{{ .Description }}</td>
    </tr>
    {{ end }}
  </tbody>
</table>
{{ end }}
