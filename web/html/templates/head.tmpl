{{ define "head" }}
{{/* Time-stamp: <2021-02-12 16:01:59 krylon> */}}
<head>
  <title>@{{ hostname  }} - {{ .Title }}</title>
  
  <meta charset="utf-8">

  <script type="text/javascript" src="/static/jquery-3.5.1.min.js">
  </script>
  
  <script type="text/javascript" src="/static/underscore.js">
  </script>

  <script type="text/javascript" src="/static/sha512.min.js">
  </script>

  <script type="text/javascript" src="/static/settings.js">
  </script>
  
  <script type="text/javascript" src="/static/interact.js">
  </script>

  {{ if .Debug }}
  <script>
   $(document).ready(function() {
     {{ if .IsNoteDetail }}
     noteID = {{ .Note.ID }};
     noteTitle = '{{ js .Note.Title }}';
     noteBody = $("#body").innerHTML;
     {{ end }}

     initSettings();
     // Start the heartbeat loop
     beaconLoop();

     $("#msg_check_interval")[0].value = settings.messages.interval;
     // We delay the start of the message loop, because it gave me
     // weird errors when I called it right away.
     window.setTimeout(getNewMessages, 1000);


     curMessageCnt = {{ len .Messages }};
     if (curMessageCnt == 0) {
       $("#msg_tbl").hidden = true;
     }

     {{ if .TestMsgGen }}
     try {
       $("#msg_check_switch")[0].checked = settings.messages.queryEnabled;
     } catch (err) {
       console.log(err);
       // alert(err);
     }
     {{ else }}
     window.setTimeout(function() { settings.messages.queryEnabled = true; }, 250);
     {{ end }}

     window.setTimeout(reminder_get_pending, 500);
   });
  </script>
  {{ end }}

  <link rel="stylesheet" type="text/css" href="/static/style.css" />
  {{/* <link rel="stylesheet" type="text/css" href="/static/normalize.css" /> */}}
</head>
{{ end }}
